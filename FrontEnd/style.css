/* Base structural tokens  */
:root{
  /* Radii */
  --radius-card: 18px;
  --radius-ctl:  999px;
  --radius-pill: 999px;

  /* Layout */
  --header-h: 4.5rem;
  --footer-h: 3.25rem;

  /* Elevation (base; can be reused across themes) */
  --shadow-soft: 0 7px 8px rgba(0, 0, 0, 0.12);
  --shadow-card: 0 9px 10px rgba(0, 0, 0, 0.18);

  /* Glass surfaces (may be overridden by theme) */
  --glass-soft: rgba(255, 255, 255, 0.70);
  --glass-strong: rgba(255, 255, 255, 0.80);

  /* Lines (base – overridden per theme if needed) */
  --line:        rgba(27, 20, 13, 0.10);
  --line-soft:   rgba(27, 20, 13, 0.06);
  --line-softer: rgba(27, 20, 13, 0.04);

  /* Theme name (informational) */
  --theme-name: "desert";

  /* Core text + page background */
  --page-bg: #F8F6F2;
  --ink-strong: #1F1812;
  --ink-soft:   #64594E;
    --ink-muted: rgba(100, 89, 78, 0.7);

  /* Accent */
  --accent: #D9A86F;

  /* Background blobs */
  --bg-blob-top: rgba(151, 106, 72, 0.95);
  --bg-blob-top-mid: rgba(208, 179, 158, 0.8);
  --bg-blob-bottom: rgba(201,148,97, 0.95);
  --bg-blob-bottom-mid: rgba(201,148,97, 0.8);

  /* Noise overlay */
  --noise-opacity: 0.95;
  --noise-blend: normal;

  /* Header chrome */
  --header-bg: linear-gradient(
      120deg,
      rgba(255,255,255,0.95),
      rgba(255,255,255,0.88)
    );
  --header-border: rgba(27,20,13,0.10);
  --header-shadow: 0 10px 30px rgba(145, 115, 82, 0.18);

  /* Buttons – generic */
  --btn-bg: radial-gradient(circle at 0 0, rgba(217,168,111,0.24), transparent 55%) #FFFFFF;
  --btn-bg-hover: #FFF9F2;
  --btn-bg-active: #FFF3E0;
  --btn-border: rgba(27,20,13,0.16);
  --btn-shadow: 0 10px 26px rgba(188, 155, 117, 0.26);
  --btn-shadow-hover: 0 16px 32px rgba(171, 138, 100, 0.28);
  --btn-ink: #3A2A1C;

  /* Buttons – primary */
  --primary-btn-bg: linear-gradient(130deg, #2B2016, #3A2A1C);
  --primary-btn-bg-hover: linear-gradient(130deg, #3a2a1c, #493326);
  --primary-btn-border: rgba(217,168,111,0.7);
  --primary-btn-ink: #FDF8F2;

  /* Icon buttons */
  --icon-btn-bg: rgba(255,255,255,0.9);
  --icon-btn-bg-hover: #FFF5EB;
  --icon-btn-border: rgba(27,20,13,0.18);
  --icon-btn-border-hover: rgba(161,119,87,0.6);
  --icon-btn-ink: var(--ink-strong);

  /* Search shell */
  --search-bg: rgba(255,255,255,0.96);
  --search-bg-focus: #FFFBF5;
  --search-border: rgba(27,20,13,0.16);
  --search-border-focus: rgba(217,168,111,0.8);
  --search-shadow: 0 10px 25px rgba(173, 146, 114, 0.22);
  --search-shadow-focus: 0 16px 36px rgba(173, 146, 114, 0.26);
  --placeholder-color: rgba(100,89,78,0.65);

  /* Toggles */
  --toggle-bg: rgba(255,255,255,0.92);
  --toggle-label-color: #6C5B4A;
  --switch-track-off: #DED5CA;
  --switch-track-on: linear-gradient(120deg, #62c88a, #9be6b7);
  --switch-knob-shadow: 0 2px 5px rgba(110, 90, 71, 0.4);

  /* Table */
  --table-header-bg: linear-gradient(
      180deg,
      rgba(255,255,255,0.96),
      rgba(249,244,236,0.96)
    );
  --table-header-ink: #3A2A1C;
  --table-row-hover-bg: rgba(255,252,246,0.9);
  --table-row-hover-shadow: 0 6px 14px rgba(188, 155, 117, 0.18);
  --table-footer-bg: linear-gradient(
      180deg,
      rgba(248,246,242,0.0),
      rgba(248,246,242,0.96)
    );
  --table-footer-border: rgba(27,20,13,0.10);
  --table-footer-text: var(--ink-soft);
  --table-footer-separator: #b8aa98;

  /* Movement modal / admin / fieldsets */
  --panel-soft-bg: #FBF7F1;
  --fieldset-bg: #FFF9F2;
  --fieldset-legend-color: var(--ink-soft);
  --import-bg: #FFF9F2;

  --admin-topbar-bg: rgba(255, 255, 255, 0.18);
  --admin-topbar-shadow: 0 10px 12px rgba(145,115,82,0.18);
  --admin-block-bg: rgba(255,255,255,0.94);
  --admin-block-header-bg: #FBF7F1;

  /* Drawers & dialogs backdrops */
  --drawer-backdrop-radial: radial-gradient(circle at 0 0, rgba(217,168,111,0.28), transparent 55%);
  --additem-backdrop-radial: radial-gradient(circle at 10% 0, rgba(217,168,111,0.26), transparent 55%);

  /* Auth button */
  --login-btn-bg: #3A2A1C;
  --login-btn-border: #D9A86F;
  --login-btn-ink: #FFF9F2;

  /* Swirly button border */
  --swirl-gradient: conic-gradient(
    from 0deg,
    #d57c17,
    #9b7354,
    #d18a48,
    #F5C98A,
    #ffdfba
  );
}

/* -----the Hawaii Water Theme -----*/

body.theme-hawaii{
  --theme-name: "hawaii";

  /* Oceanic base */
  --page-bg: #E6F7FF;
  --ink-strong: #00324D;
  --ink-soft: rgba(0, 50, 85, 0.75);
  --ink-muted: rgba(0, 60, 90, 0.55);

  --glass-soft: rgba(255, 255, 255, 0.80);
  --glass-strong: rgba(255, 255, 255, 0.96);

  --line:        rgba(0, 60, 90, 0.12);
  --line-soft:   rgba(0, 60, 90, 0.06);
  --line-softer: rgba(0, 60, 90, 0.03);

  --accent: #2FB3FF;

  /* Background blobs – lagoon / deep ocean */
  --bg-blob-top: rgba(0, 153, 212, 0.95);
  --bg-blob-top-mid: rgba(117, 216, 255, 0.85);
  --bg-blob-bottom: rgba(0, 115, 179, 0.96);
  --bg-blob-bottom-mid: rgba(47, 179, 255, 0.85);

  --noise-opacity: 0.75;
  --noise-blend: soft-light;

  --header-bg: linear-gradient(
      120deg,
      rgba(255,255,255,0.98),
      rgba(231,248,255,0.95)
    );
  --header-border: rgba(0,60,90,0.08);
  --header-shadow: 0 10px 30px rgba(9, 85, 126, 0.16);

  --btn-bg: radial-gradient(circle at 0 0, rgba(47,179,255,0.22), transparent 55%) #FFFFFF;
  --btn-bg-hover: #F2FBFF;
  --btn-bg-active: #E6F7FF;
  --btn-border: rgba(0,60,90,0.14);
  --btn-shadow: 0 10px 26px rgba(26, 116, 158, 0.20);
  --btn-shadow-hover: 0 16px 32px rgba(26, 116, 158, 0.26);
  --btn-ink: #00324D;

  --primary-btn-bg: linear-gradient(130deg, #004066, #005985);
  --primary-btn-bg-hover: linear-gradient(130deg, #005985, #0073A8);
  --primary-btn-border: rgba(47,179,255,0.9);
  --primary-btn-ink: #EFFFFF;

  --icon-btn-bg: rgba(255,255,255,0.96);
  --icon-btn-bg-hover: #E6F8FF;
  --icon-btn-border: rgba(0,60,90,0.16);
  --icon-btn-border-hover: rgba(47,179,255,0.85);
  --icon-btn-ink: #00324D;

  --search-bg: rgba(255,255,255,0.98);
  --search-bg-focus: #E9FAFF;
  --search-border: rgba(0,60,90,0.16);
  --search-border-focus: rgba(47,179,255,0.9);
  --search-shadow: 0 10px 25px rgba(23, 111, 151, 0.18);
  --search-shadow-focus: 0 16px 36px rgba(23,111,151,0.24);
  --placeholder-color: rgba(0,60,90,0.45);

  --toggle-bg: rgba(255,255,255,0.94);
  --toggle-label-color: rgba(0,60,90,0.65);
  --switch-track-off: rgba(210, 232, 241, 0.9);
  --switch-track-on: linear-gradient(120deg, #2FB3FF, #8BE7FF);
  --switch-knob-shadow: 0 2px 5px rgba(0, 60, 90, 0.35);

  --table-header-bg: linear-gradient(
      180deg,
      rgba(255,255,255,0.98),
      rgba(234,250,255,0.97)
    );
  --table-header-ink: #00324D;
  --table-row-hover-bg: rgba(232, 248, 255, 0.95);
  --table-row-hover-shadow: 0 6px 14px rgba(23,111,151,0.18);

  --table-footer-bg: linear-gradient(
      180deg,
      rgba(230,247,255,0.0),
      rgba(230,247,255,0.98)
    );
  --table-footer-border: rgba(0,60,90,0.08);
  --table-footer-text: rgba(0,60,90,0.7);
  --table-footer-separator: rgba(0,60,90,0.45);

  --panel-soft-bg: #E4F4FF;
  --fieldset-bg: #F3FBFF;
  --fieldset-legend-color: rgba(0,60,90,0.7);
  --import-bg: #F3FBFF;

  --admin-topbar-bg: rgba(230,247,255, 0.94);
  --admin-topbar-shadow: 0 10px 12px rgba(23,111,151,0.16);
  --admin-block-bg: rgba(255,255,255,0.97);
  --admin-block-header-bg: #E6F7FF;

  --drawer-backdrop-radial: radial-gradient(circle at 0 0, rgba(47,179,255,0.32), transparent 55%);
  --additem-backdrop-radial: radial-gradient(circle at 10% 0, rgba(47,179,255,0.28), transparent 55%);

  --login-btn-bg: #00324D;
  --login-btn-border: #2FB3FF;
  --login-btn-ink: #EFFFFF;

  --swirl-gradient: conic-gradient(
    from 0deg,
    #0fb2ff,
    #2fb3ff,
    #8be7ff,
    #31b1e7,
    #0fb2ff
  );
}

body.theme-hawaii #itemDrawer{
  background: #021B33;
  color: #E9F4FF;
}

body.theme-hawaii #itemDetail,
body.theme-hawaii #itemDetail h3,
body.theme-hawaii #itemDetail small{
  color: #E9F4FF;
}

body.theme-hawaii #itemDrawer .drawer-actions{
  background: #011627;
  border-top: 1px solid rgba(154, 199, 232, 0.45);
}

/* -----the Stonehange Moss Theme -----*/

body.theme-stonehenge-moss{
  --theme-name: "stonehenge-moss";

  /* Ground + ink */
  --page-bg: #F2F4EF;
  --ink-strong: #151D16;
  --ink-soft: rgba(32, 45, 34, 0.80);
  --ink-muted: rgba(70, 86, 72, 0.65);

  /* Glass */
  --glass-soft: rgba(245, 248, 242, 0.86);
  --glass-strong: rgba(250, 252, 248, 0.97);

  --line:        rgba(18, 65, 26, 0.327);
  --line-soft:   rgba(20, 32, 22, 0.08);
  --line-softer: rgba(20, 32, 22, 0.04);


  --accent: #9AA85A;

  --bg-blob-top: rgba(39, 73, 49, 0.96);        
  --bg-blob-top-mid: rgba(126, 154, 116, 0.86); 
  --bg-blob-bottom: rgba(119, 155, 112, 0.96);     
  --bg-blob-bottom-mid: rgba(26, 88, 23, 0.86);


  --noise-opacity: 0.82;
  --noise-blend: soft-light;


  --header-bg: linear-gradient(
    120deg,
    rgba(250,252,248,0.98),
    rgba(229,236,224,0.96)
  );
  --header-border: rgba(18, 28, 20, 0.10);
  --header-shadow: 0 10px 30px rgba(18, 28, 20, 0.22);

  /* Buttons – generic */
  --btn-bg: radial-gradient(
      circle at 0 0,
      color-mix(in srgb, var(--accent) 28%, #ffffff 72%),
      transparent 55%
    )
    #FDFEF9;
  --btn-bg-hover: #F4F7F0;
  --btn-bg-active: #E7ECE0;
  --btn-border: rgba(25, 39, 28, 0.20);
  --btn-shadow: 0 10px 26px rgba(23, 40, 28, 0.24);
  --btn-shadow-hover: 0 16px 32px rgba(23, 40, 28, 0.30);
  --btn-ink: #1D261E;


  --primary-btn-bg: linear-gradient(130deg, #1A271D, #263529);
  --primary-btn-bg-hover: linear-gradient(130deg, #223124, #304034);
  --primary-btn-border: color-mix(in srgb, var(--accent) 70%, #1A271D 30%);
  --primary-btn-ink: #F5F8F1;

  --icon-btn-bg: rgba(249, 251, 247, 0.96);
  --icon-btn-bg-hover: #E9EFE4;
  --icon-btn-border: rgba(21, 33, 23, 0.16);
  --icon-btn-border-hover: rgba(91, 128, 96, 0.85);
  --icon-btn-ink: var(--ink-strong);

  --search-bg: rgba(249,251,247,0.98);
  --search-bg-focus: #ECF3E8;
  --search-border: rgba(21,33,23,0.16);
  --search-border-focus: rgba(154,168,90,0.95);
  --search-shadow: 0 10px 25px rgba(26, 43, 30, 0.18);
  --search-shadow-focus: 0 16px 36px rgba(26, 43, 30, 0.24);
  --placeholder-color: rgba(70,86,72,0.65);

  --toggle-bg: rgba(245,248,242,0.95);
  --toggle-label-color: rgba(47, 63, 49, 0.78);
  --switch-track-off: rgba(212, 222, 210, 0.92);
  --switch-track-on: linear-gradient(120deg, #5E8A62, #9AA85A);
  --switch-knob-shadow: 0 2px 5px rgba(9, 24, 13, 0.5);

  /* Table */
  --table-header-bg: linear-gradient(
    180deg,
    rgba(250,252,248,0.98),
    rgba(233,240,229,0.97)
  );
  --table-header-ink: #1C261E;
  --table-row-hover-bg: rgba(230, 239, 226, 0.96);
  --table-row-hover-shadow: 0 6px 14px rgba(26, 43, 30, 0.20);

  --table-footer-bg: linear-gradient(
    180deg,
    rgba(242,244,239,0.0),
    rgba(242,244,239,0.98)
  );
  --table-footer-border: rgba(21,33,23,0.10);
  --table-footer-text: rgba(47, 63, 49, 0.85);
  --table-footer-separator: rgba(96, 118, 94, 0.7);

  /* Panels / fieldsets / import */
  --panel-soft-bg: #E7EEE1;
  --fieldset-bg: #F4F8EE;
  --fieldset-legend-color: rgba(47,63,49,0.85);
  --import-bg: #F4F8EE;

  /* Admin area glass */
  --admin-topbar-bg: rgba(234, 241, 231, 0.95);
  --admin-topbar-shadow: 0 10px 12px rgba(19, 31, 22, 0.20);
  --admin-block-bg: rgba(250,252,248,0.97);
  --admin-block-header-bg: #E4EBDE;

  /* Drawers & dialogs backdrops */
  --drawer-backdrop-radial: radial-gradient(
    circle at 0 0,
    rgba(90, 121, 87, 0.32),
    transparent 55%
  );
  --additem-backdrop-radial: radial-gradient(
    circle at 10% 0,
    rgba(154, 168, 90, 0.28),
    transparent 55%
  );

  /* Auth button */
  --login-btn-bg: #202D22;
  --login-btn-border: #9AA85A;
  --login-btn-ink: #F5F8F1;

  /* Swirly border – mossy spectrum */
  --swirl-gradient: conic-gradient(
    from 0deg,
    #5E8A62,
    #9AA85A,
    #B3C38A,
    #6E8C6D,
    #5E8A62
  );
}

/* Item drawer */
body.theme-stonehenge-moss #itemDrawer{
  background: #0D1410;
  color: #ECF1E9;
}
body.theme-stonehenge-moss #itemDetail,
body.theme-stonehenge-moss #itemDetail h3,
body.theme-stonehenge-moss #itemDetail small{
  color: #ECF1E9;
}
body.theme-stonehenge-moss #itemDrawer .drawer-actions{
  background: #090F0B;
  border-top: 1px solid rgba(190, 204, 185, 0.32);
}

/* Movement tabs */
body.theme-stonehenge-moss .tabs button[aria-selected="true"]{
  background: #E0E9D7;
  border-color: var(--accent);
  color: var(--ink-strong);
}
body.theme-stonehenge-moss .tabs button:hover{
  background: #E7EFE1;
}

/* Admin bar + cards */
body.theme-stonehenge-moss #backToCatalogBtn{
  color: #1E281F;
  background: rgba(235, 241, 233, 0.94);
  border-color: rgba(90, 120, 87, 0.6);
  box-shadow: 0 2px 4px rgba(10, 22, 14, 0.32);
}
body.theme-stonehenge-moss #backToCatalogBtn:hover{
  background: #E0E9D7;
  border-color: #9AA85A;
}

body.theme-stonehenge-moss .admin-block h3{
  color: #1E281F;
}
body.theme-stonehenge-moss .admin-block tr:hover{
  background: #E3ECDA;
}

/* ---- The main CSS ----*/


*,
*::before,
*::after{
  box-sizing: border-box;
}

html{
  background: var(--page-bg);
  color: var(--ink-strong);
}

body{
  min-height: 100vh;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-size: cover;
  margin: 0;
  font: 14px/1.5 system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--ink-strong);
  background:
    radial-gradient(
      circle at 2% 0%,
      var(--bg-blob-top) 0,
      var(--bg-blob-top-mid) 35%,
      transparent 70%
    ),
    radial-gradient(
      circle at 88% 90%,
      var(--bg-blob-bottom) 0,
      var(--bg-blob-bottom-mid) 35%,
      transparent 70%
    ),
    var(--page-bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='1200'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.5' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%2523noiseFilter)' opacity='0.42'/%3E%3C/svg%3E");
  opacity: var(--noise-opacity);
  mix-blend-mode: var(--noise-blend);
  z-index: -1;
}

img, svg, video{
  display:block;
  max-width:100%;
}

button, input, select, textarea{
  font: inherit;
  color: inherit;
}

a{
  color: inherit;
  text-decoration: none;
}

.sr-only{
  position:absolute !important;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}

[hidden]{ display:none !important; }

button[disabled],
input[disabled],
select[disabled]{
  opacity:.55;
  cursor:not-allowed;
}

:where(button, .btn, .icon-btn, .small-select, .table-btn, .search-input, .form-input, .switch input):focus-visible{
  outline: 0.5px solid var(--accent);
  outline-offset: 2px;
}

.app-header{
  position: sticky;
  top: 0;
  z-index: 1000;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;

  min-height: var(--header-h);
  padding: .85rem 1.75rem .8rem;

  background: var(--header-bg);
  border-bottom: 1px solid var(--header-border);
  box-shadow: var(--header-shadow);
  backdrop-filter: blur(18px) saturate(120%);
  -webkit-backdrop-filter: blur(18px) saturate(120%);
}

.app-header-left{
  display:flex;
  flex-direction:column;
  justify-content:center;
  min-width:0;
}

.product-title{
  display:flex;
  flex-direction:column;
  line-height:1.1;
}
.product-name{
  font-size: 1.9rem;
  font-weight: 680;
  letter-spacing:-.03em;
  color: var(--ink-strong);
}
.product-sub{
  font-size: .78rem;
  color: var(--ink-soft);
  letter-spacing:.08em;
  text-transform: uppercase;
}

.app-header-right{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  justify-content:flex-end;
  gap:.35rem;
  margin-left:auto;
  min-width:0;
}

.header-top-row{
  display:flex;
  align-items:center;
  gap:.5rem;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.header-bottom-row{
  display:flex;
  align-items:center;
  flex-wrap:wrap;
  justify-content:flex-end;
  gap:.6rem .75rem;
}

/* Admin / role / session area */
.session-user-shell{
  display:flex;
  align-items:center;
  gap:.45rem;
  font-size:.8rem;
  color:var(--ink-soft);
}

#roleBadge{
  padding:.25rem .7rem;
  border-radius:999px;
  border:1px solid rgba(27,20,13,0.15);
  background: linear-gradient(
      135deg,
      rgba(249, 242, 232, 0.96),
      rgba(244, 231, 216, 0.96)
    );
  box-shadow: 0 4px 12px rgba(187, 153, 115, 0.26);
  font-size:.78rem;
}

.small-select{
  font-size:.8rem;
  line-height:1.2;
  padding:.45rem .9rem;
  border-radius: var(--radius-ctl);
  border:1px solid var(--btn-border);
  background: rgba(255,255,255,0.9);
  color: var(--ink-strong);
  box-shadow: 0 6px 16px rgba(176, 151, 118, 0.20);
}

.btn{
  appearance:none;
  cursor:pointer;
  border-radius: var(--radius-ctl);
  border:1px solid var(--btn-border);
  background: var(--btn-bg);
  color: var(--btn-ink);
  font-size:.8rem;
  font-weight:500;
  letter-spacing:.06em;
  text-transform: uppercase;
  padding:.5rem .95rem;
  box-shadow: var(--btn-shadow);
  transition:
    transform .08s ease,
    box-shadow .12s ease,
    border-color .12s ease,
    background .12s ease;
}
.btn:hover{
  transform: translateY(-1px);
  border-color: var(--accent);
  background: var(--btn-bg-hover);
  box-shadow: var(--btn-shadow-hover);
}
.btn:active{
  transform: translateY(0);
  background: var(--btn-bg-active);
  box-shadow: 0 8px 18px rgba(0,0,0,0.18);
}
.btn-compact{
  padding:.4rem .7rem;
  font-size:.78rem;
}

.btn-primary{
  background: var(--primary-btn-bg);
  color: var(--primary-btn-ink);
  border-color: var(--primary-btn-border);
}
.btn-primary:hover{
  background: var(--primary-btn-bg-hover);
}

.btn-secondary{
  background: rgba(255,255,255,0.96);
}

.btn-ghost-small{
  background: transparent;
  border-radius: var(--radius-ctl);
  border:1px solid var(--icon-btn-border);
  padding:.35rem .7rem;
  font-size:.75rem;
  color: var(--ink-soft);
  cursor:pointer;
  transition: background .15s ease, border-color .15s ease, color .15s ease, transform .08s ease;
}
.btn-ghost-small:hover{
  background: rgba(255,255,255,0.8);
  color: var(--ink-strong);
  border-color: var(--accent);
  transform: translateY(-1px);
}

.icon-btn{
  background: var(--icon-btn-bg);
  border:1px solid var(--icon-btn-border);
  color: var(--icon-btn-ink);
  font-size: 0.8rem;
  line-height: 1;
  padding: 0.35rem 0.45rem;
  border-radius: var(--radius-ctl);
  cursor: pointer;
  box-shadow: none;
  transition: background .15s ease, border-color .15s ease, transform .08s ease;
}
.icon-btn:hover{
  background: var(--icon-btn-bg-hover);
  border-color: var(--icon-btn-border-hover);
  transform: translateY(-1px);
}
.icon-btn svg,
.icon-btn img{
  display:inline-block;
  vertical-align:middle;
  width:16px;
  height:16px;
}

.table-btn{
  appearance:none;
  cursor:pointer;
  border-radius: var(--radius-ctl);
  border:1px solid var(--line);
  padding:.35rem .7rem;
  font-size:.78rem;
  background:#FFFFFF;
  color:var(--ink-strong);
}

.search-wrapper{
  display:flex;
  align-items:center;
  gap:.4rem;
  background: var(--search-bg);
  border:1px solid var(--search-border);
  border-radius: var(--radius-ctl);
  padding:.45rem .75rem;
  width:11rem;
  max-width:24rem;
  box-shadow: var(--search-shadow);
  transition: width .18s ease, box-shadow .18s ease, border-color .18s ease, background-color .18s ease;
}
.search-wrapper.focused{
  width:22rem;
  border-color: var(--search-border-focus);
  background: var(--search-bg-focus);
  box-shadow: var(--search-shadow-focus);
}
.search-input{
  width:100%;
  font-size:.82rem;
  line-height:1.2;
  padding:0;
  border:0;
  outline:none;
  background:transparent;
  color: var(--ink-strong);
}
.search-input::placeholder{
  color: var(--placeholder-color);
}


.toggle-row{
  display:flex;
  align-items:center;
  gap:.65rem;
  padding:.3rem .7rem;
  border-radius: var(--radius-ctl);
  border:0px solid var(--line);
  background: var(--toggle-bg);
  box-shadow: 0 1px 4px rgba(188, 155, 117, 0.18);
}
.toggle-label{
  font-size:.8rem;
  color:var(--toggle-label-color);
  white-space:nowrap;
}

.switch{
  position:relative;
  display:inline-block;
  width:40px;
  height:22px;
}
.switch input{
  opacity:0;
  width:0;
  height:0;
}
.slider{
  position:absolute;
  inset:0;
  background: var(--switch-track-off);
  border-radius:999px;
  transition: background .16s ease;
}
.slider::before{
  content:"";
  position:absolute;
  height:18px;
  width:18px;
  left:2px;
  top:2px;
  background:#FFFFFF;
  border-radius:50%;
  transition: transform .16s ease, box-shadow .16s ease;
  box-shadow: var(--switch-knob-shadow);
}
.switch input:checked + .slider{
  background: var(--switch-track-on);
}
.switch input:checked + .slider::before{
  transform: translateX(18px);
}

.toggle-row.is-locked{
  opacity:.6;
}
.toggle-row.is-locked .switch{
  pointer-events:none;
}

#showDeletedWrap,
#showDeletedWrapAdmin{
  border: 1px solid var(--line);
  box-shadow: none;
}

.app-main{
  max-width: 1320px;
  margin: 1.25rem auto 0;
  padding: 0 1.5rem 2.5rem;
}

.table-scroll-region{
  position: relative;
  overflow:auto;
  height: calc(100vh - var(--header-h) - var(--footer-h) - 32px);
  margin-top: 0.5rem;
  background: var(--glass-soft);
  border-radius: var(--radius-card);
  border: 0px solid var(--line-soft);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(16px) saturate(120%);
  -webkit-backdrop-filter: blur(16px) saturate(120%);
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.table-scroll-region::-webkit-scrollbar{
  display: none;
}

table{
  border-collapse: collapse;
  width:100%;
}

.file-table{
  table-layout: fixed;
  font-size: .9rem;
  color: var(--ink-strong);
  background: transparent;
}

.file-table thead th,
.file-table tbody td{
  padding:.6rem .65rem;
  border-bottom:1px solid var(--line-softer);
  text-align:left;
  vertical-align: top;
  word-break: break-word;
}

.file-table-head th{
  position: sticky;
  top: 0;
  z-index:10;
  background: var(--table-header-bg);
  font-weight:600;
  font-size:.76rem;
  color:var(--table-header-ink);
  box-shadow: 0 1px 0 rgba(255,255,255,0.8);
}


.file-table-head th.system,
.file-table-head th.shelf{
  padding-left: 0.4rem;
  padding-right: 0.4rem;
}
.file-table-head th.system{ padding-right: 0.2rem; }
.file-table-head th.shelf { padding-left: 0.2rem; }

.sortable .sort-indicator{
  display:inline-block;
  width:.9em;
}
.file-table-head th.sort-active{
  color:#000;
}
.file-table-head th.sort-asc .sort-indicator::after{
  content:"▲";
  font-size:.65em;
}
.file-table-head th.sort-desc .sort-indicator::after{
  content:"▼";
  font-size:.65em;
}

.file-table tbody tr{
  transition: background-color .16s ease, box-shadow .16s ease, transform .12s ease;
}
.file-table tbody tr:not(.row-deleted):hover{
  background: var(--table-row-hover-bg);
  transform: translateY(-1px);
  box-shadow: var(--table-row-hover-shadow);
}

.col-name{ width:8rem; max-width:8.2rem; min-width:7.5rem; }
.col-holder{ width:8rem; }
.cell-actions{ white-space:nowrap; }

.row-deleted{
  opacity: 0.7;
  background: rgba(245,239,232,0.9);
}
.row-deleted td{
  position: relative;
  color: #8C7B6A;
}
.row-deleted td:not(.cell-actions){
  text-decoration: line-through;
  text-decoration-color: rgba(122, 100, 77, 0.35);
}
.row-deleted .cell-actions{
  text-decoration:none;
  opacity:1;
}
.row-deleted .icon-btn{
  color: #4A3726;
  border-color: rgba(144,110,73,0.4);
}

.clickable{
  cursor: pointer;
  text-decoration: underline;
}

.empty-row td{
  text-align:center;
  color:var(--ink-soft);
  font-size:.9rem;
  padding:2rem .5rem;
}


.table-footer{
  position: fixed;
  left:0;
  bottom:0;
  width:100%;
  background: var(--table-footer-bg);
  backdrop-filter: blur(10px) saturate(110%);
  -webkit-backdrop-filter: blur(10px) saturate(110%);
  border-top:1px solid var(--table-footer-border);
  z-index: 9000;
  font-size:.78rem;
  color: var(--table-footer-text);
  opacity: 0;
  transition: opacity .6s ease;
}
.table-footer.show{
  opacity: 1;
}

.table-footer-inner{
  max-width:1320px;
  margin:0 auto;
  padding:.6rem 1.5rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  gap:.5rem;
}

.signed-in-info{
  font-size:.78rem;
  color:var(--ink-soft);
  white-space:nowrap;
}

.footer-right{
  display:flex;
  align-items:center;
  flex-wrap:wrap;
  gap:.5rem;
}
.footer-separator{
  color:var(--table-footer-separator);
  font-size:.75rem;
}
.pager-bar{
  display:flex;
  align-items:center;
  gap:.5rem;
}
.pager-status{
  color:var(--ink-soft);
  min-width:6rem;
  text-align:center;
}


dialog{
  border:none;
  padding:0;
  border-radius: 20px;
  background: var(--glass-strong);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(18px) saturate(130%);
  -webkit-backdrop-filter: blur(18px) saturate(130%);
}
dialog::backdrop{
  background:
    var(--drawer-backdrop-radial),
    rgba(0,0,0,0.24);
}


#itemDrawer{
  max-width: 720px;
  width: min(95vw, 720px);
  padding: 0;
  background: rgba(21, 16, 11, 0.96);
  color: #F9F4EC;
}

#itemDetail{
  padding: 1.1rem 1.25rem 0.75rem;
  color: #F9F4EC;
}

#itemDetail h3{
  margin:.25rem 0 .5rem;
  font-size:1.1rem;
  color:#F9F4EC;
}
#itemDetail small{
  font-weight:400;
  opacity:.7;
  color:#F9F4EC;
}

#itemDrawer .drawer-actions{
  display:flex;
  gap:.5rem;
  justify-content:flex-end;
  padding:.8rem 1.25rem 1.25rem;
  border-top: 1px solid rgba(249, 242, 232, 0.16);
  background: rgba(16, 12, 8, 0.98);
}

#itemDrawer .drawer-actions button{
  border-radius: var(--radius-ctl);
  padding: .45rem .9rem;
  font-size: .78rem;
  letter-spacing: .06em;
  text-transform: uppercase;
  cursor: pointer;
  border: 1px solid rgba(249, 242, 232, 0.28);
  background: transparent;
  color: #F9F4EC;
  box-shadow: none;
  transition:
    background .12s ease,
    border-color .12s ease,
    transform .08s ease;
}
#itemDrawer .drawer-actions button:hover{
  transform: translateY(-1px);
}

#itemDeleteBtn{
  background: #3B1717;
  border-color: rgba(240, 181, 181, 0.8);
}
#itemDeleteBtn:hover{
  background: #501b1b;
}

#itemRestoreBtn{
  background: #234631;
  border-color: rgba(158, 223, 181, 0.75);
}
#itemRestoreBtn:hover{
  background: #29543a;
}

#openMovementModal{
  background: linear-gradient(130deg, var(--accent), color-mix(in srgb, var(--accent) 75%, #ffffff 25%));
  border-color: transparent;
  color: #2B1F13;
}
@supports not (color-mix(in srgb, #000 50%, #fff 50%)){
  #openMovementModal{
    background: var(--accent);
  }
}
#openMovementModal:hover{
  filter: brightness(1.05);
}


#closeItemDrawer{
  background: transparent;
  border-color: rgba(249, 242, 232, 0.35);
  color: #F9F4EC;
}
#closeItemDrawer:hover{
  background: rgba(249, 242, 232, 0.06);
}

#itemDrawer h3.item-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin: .25rem 0 .5rem;
  font-size: 1.1rem;
}
#itemDrawer h3.item-header small{
  opacity: .7;
}
#itemDrawer h3.item-header .badge{
  margin-left: auto;
  flex-shrink: 0;
}


#movementModal{
  max-width: 720px;
  width: min(95vw, 720px);
  color: var(--ink-strong);
}

.movement-shell{
  display:flex;
  flex-direction:column;
  min-width: min(90vw, 720px);
  min-height: 380px;
  max-height: 72vh;
}


.movement-header{
  flex: 0 0 auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: .9rem 1.25rem .5rem;
  border-bottom: 1px solid var(--line);
  background: var(--panel-soft-bg);
}
.movement-header h2{
  margin:0;
  font-size:1rem;
  font-weight:600;
  color: var(--ink-strong);
}

.movement-body{
  flex: 1 1 auto;
  display:grid;
  grid-template-columns: 170px minmax(0, 1fr);
  align-items:flex-start;
  min-height:0;
}


.movement-sidebar{
  border-right: 1px solid var(--line-soft);
  background:var(--panel-soft-bg);
}

.tabs{
  display:flex;
  flex-direction:column;
  gap:.35rem;
  padding: .9rem .7rem;
}
.tabs button{
  width:100%;
  text-align:left;
  padding:.4rem .6rem;
  border-radius: var(--radius-ctl);
  border:1px solid transparent;
  background:transparent;
  cursor:pointer;
  font-size:.8rem;
  text-transform:uppercase;
  letter-spacing:.06em;
  color: var(--ink-soft);
  transition:
    background-color .15s ease,
    border-color .15s ease,
    color .15s ease,
    transform .08s ease;
}
.tabs button[aria-selected="true"]{
  background:#FFF3E2;
  border-color:var(--accent);
  color: var(--ink-strong);
}
body.theme-hawaii .tabs button[aria-selected="true"]{
  background:#E6F7FF;
}
.tabs button:hover{
  background:#FFF7EB;
}
body.theme-hawaii .tabs button:hover{
  background:#E9FAFF;
}


.movement-main{
  padding: .75rem 1.1rem 1.1rem;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

/* Immutable top block */
.movement-meta{
  flex: 0 0 auto;
  display:grid;
  grid-template-columns: 1fr;
  gap:.3rem;
  margin-bottom:.8rem;
  padding:.55rem .7rem;
  border-radius: var(--radius-card);
  border:1px solid var(--line-soft);
  background: rgba(255,255,255,0.95);
}
.movement-meta-row{
  display:flex;
  justify-content:space-between;
  gap:.75rem;
  font-size:.8rem;
}
.movement-meta-label{
  color: var(--ink-soft);
}
.movement-meta-value{
  font-weight:500;
  color: var(--ink-strong);
  text-align:right;
}

#movementModal .modal-body{
  flex: 1 1 auto;
  max-height: none;
  overflow-y: auto;
  padding-bottom: .25rem;
}

#movementModal .modal-body form{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:.6rem .8rem;
  margin:.75rem 0 0;
}
#movementModal .modal-body h3{
  grid-column:1 / -1;
  margin:.25rem 0 .25rem;
  color: var(--ink-strong);
}
#movementModal .modal-body input,
#movementModal .modal-body button,
#movementModal .modal-body select{
  padding:.6rem .7rem;
  border:1px solid var(--line);
  border-radius: var(--radius-ctl);
  background:#FFFFFF;
  color: var(--ink-strong);
}
#movementModal .modal-body button[type="submit"]{
  grid-column:1 / -1;
  justify-self:end;
  background: var(--accent);
  color:#3A2A1C;
  border-color: var(--accent);
  cursor:pointer;
}

#movementModal .form-field{
  display:block;
}
#movementModal .form-label{
  display:block;
  font-size:.9rem;
  margin-bottom:.25rem;
  color: var(--ink-strong);
  font-weight:500;
}

#closeMovementModal.btn-ghost-small{
  color: var(--ink-soft);
}
#closeMovementModal.btn-ghost-small:hover{
  color: var(--ink-strong);
}

.additem-dialog{
  border:none;
  padding:0;
  border-radius: var(--radius-card);
  box-shadow: var(--shadow-card);
  background: var(--glass-strong);
  color: var(--ink-strong);
  max-width: 720px;
  width: min(95vw, 720px);
}
.additem-dialog::backdrop{
  background:
    var(--additem-backdrop-radial),
    rgba(0,0,0,.20);
}

/* Content shell */
.additem-dialog .modal-body{
  padding: 1rem 1.25rem 0.75rem;
}

/* Tabs */
.additem-tabs{
  display: flex;
  gap: .5rem;
  padding: 0 .25rem .5rem;
  border-bottom: 1px solid var(--line);
}
.additem-tabs .tab-btn{
  appearance: none;
  background: transparent;
  border: 0;
  border-bottom: 2px solid transparent;
  border-radius: 0;
  color: var(--ink-soft);
  padding: .5rem .25rem;
  font-size: .9rem;
  line-height: 1.2;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing:.06em;
  transition: color .15s ease, border-color .15s ease;
}
.additem-tabs .tab-btn:hover{
  color: var(--ink-strong);
}
.additem-tabs .tab-btn-active{
  color: var(--ink-strong);
  border-bottom-color: var(--accent);
}

/* Panels */
.tab-panel{
  padding: .75rem 0 0;
}
.tab-panel[hidden]{
  display:none !important;
}

/* Form grid */
.additem-dialog .form{
  display: grid;
  grid-template-columns: 1fr;
  gap: .75rem .9rem;
}
@media (min-width: 720px){
  .additem-dialog .form{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.form-field{
  grid-column: 1 / -1;
}

/* Location fieldset */
.fieldset-block{
  grid-column: 1 / -1;
  border: 0px solid var(--line);
  border-radius: var(--radius-ctl);
  padding: .75rem;
  background: var(--fieldset-bg);
  gap: 0.5rem 0.6rem;
}
.fieldset-legend{
  font-size: .8rem;
  color: var(--fieldset-legend-color);
  padding: 0 .25rem;
}
.fieldset-block .form-field{
  margin: 0;
}
@media (min-width: 720px){
  .fieldset-block{
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: .75rem .9rem;
  }
}

/* Inputs */
.form-label{
  display: block;
  font-size: .9rem;
  margin-bottom: .25rem;
  color: var(--ink-strong);
  font-weight: 500;
}
.form-input{
  width: 100%;
  padding: .55rem .65rem;
  border: 0px solid var(--line);
  border-radius: var(--radius-ctl);
  background: #FFFFFF;
  color: var(--ink-strong);
  transition: border-color .15s ease, box-shadow .15s ease;
}
.form-input:focus{
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 35%, transparent 65%);
}
@supports not (color-mix(in srgb, #000 50%, #fff 50%)){
  .form-input:focus{
    box-shadow: 0 0 0 3px rgba(217,168,111,.35);
  }
}

/* Error and hint text */
.session-error{
  grid-column: 1 / -1;
  min-height: 1rem;
  color: #C7503A;
  font-size: .8rem;
}

.import-hint,
.import-status{
  font-size: .8rem;
  color: var(--ink-soft);
  background: var(--import-bg);
  border: 1px solid var(--line);
  border-radius: var(--radius-ctl);
  padding: .5rem .6rem;
}

.additem-dialog .drawer-actions{
  grid-column: 1 / -1;
  display: flex;
  justify-content: flex-end;
  gap: .5rem;
  padding: .9rem 0 0;
  margin-top: .25rem;
  border-top: 1px solid var(--line);
}
.additem-dialog .btn{
  padding: .48rem .7rem;
}

.additem-dialog select.form-input,
#shelfForm select.form-input{
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, #9A8065 50%),
    linear-gradient(135deg, #9A8065 50%, transparent 50%);
  background-position:
    calc(100% - 16px) calc(50% - 3px),
    calc(100% - 12px) calc(50% - 3px);
  background-size: 6px 6px;
  background-repeat: no-repeat;
  padding-right: 2rem;
}


#editItemDialog{
  border: none;
  padding: 0;
  border-radius: var(--radius-card);
  max-width: 640px;
  width: min(95vw, 640px);

  /* Soft glass + warm blob */
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(in srgb, var(--accent) 28%, #ffffff 72%) 0,
      transparent 60%
    ),
    var(--glass-strong);

  box-shadow: var(--shadow-card);
  backdrop-filter: blur(22px) saturate(130%);
  -webkit-backdrop-filter: blur(22px) saturate(130%);
}

/* Hawaii theme: ocean-toned blob instead of amber */
body.theme-hawaii #editItemDialog{
  background:
    radial-gradient(
      circle at 0% 0%,
      color-mix(in srgb, #2FB3FF 30%, #ffffff 70%) 0,
      transparent 60%
    ),
    var(--glass-strong);
}

/* Body: fix the uneven right padding */
#editItemDialog .modal-body{
  padding: 1.1rem 1.25rem 0.9rem;
}

/* Grid: same rhythm as Add Item but cleaner */
#editItemDialog .form{
  display: grid;
  grid-template-columns: 1fr;
  gap: 0.75rem 0.9rem;
}

@media (min-width: 720px){
  #editItemDialog .form{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Full-width rows */
#editItemDialog .form-field,
#editItemDialog fieldset.fieldset-block{
  grid-column: 1 / -1;
}

/* Keep the fieldset consistent with the new dialog spacing */
#editItemDialog .fieldset-block{
  padding: .75rem .9rem;
  border-radius: var(--radius-pill);
}

/* Footer: balanced horizontal spacing */
#editItemDialog .drawer-actions{
  display: flex;
  justify-content: flex-end;
  gap: .55rem;
  padding: 1rem 1.25rem 1.25rem;
  border-top: 1px solid var(--line);
}


#loginSection{
  display:grid;
  place-items:center;
  padding:3rem 1rem;
}
.auth-form{
  display:grid;
  gap:.75rem;
  width:100%;
  max-width:360px;
  padding:1.4rem 1.3rem;
  border-radius: var(--radius-card);
  background: var(--glass-strong);
  border:1px solid var(--line);
  box-shadow: var(--shadow-card);
  backdrop-filter: blur(16px) saturate(120%);
  -webkit-backdrop-filter: blur(16px) saturate(120%);
}
.auth-form input,
.auth-form button{
  padding:.7rem .8rem;
  border-radius: var(--radius-ctl);
  border:1px solid var(--line);
  background:#FFFFFF;
  color: var(--ink-strong);
}
.auth-form button{
  background: var(--login-btn-bg);
  color: var(--login-btn-ink);
  border-color: var(--login-btn-border);
  cursor:pointer;
  text-transform: uppercase;
  letter-spacing:.08em;
}

/* =========================================================
   ADMIN AREA (Dashboard / Settings)
   ========================================================= */

#adminSection{
  max-width: 1320px;
  margin: 1.25rem auto 2rem;
  padding: 0 1.5rem 1.5rem;

  display: flex;
  flex-direction: column;
  gap: 1.25rem;
  background: transparent;
}

#adminHeading{
  margin: 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--ink-strong);
}

.admin-topbar{
  position: sticky;
  top: calc(var(--header-h) + 35px);
  z-index: 40;

  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:.7rem 1.25rem;

  background: var(--admin-topbar-bg);
  border-bottom: 1px solid var(--line);
  border-radius: var(--radius-card);
  box-shadow: var(--admin-topbar-shadow);

  backdrop-filter: blur(24px) saturate(120%);
  -webkit-backdrop-filter: blur(24px) saturate(120%);
}

#backToCatalogBtn{
  font-size: 0.82rem;
  font-weight: 500;
  color: #3A2A1C;
  background: rgba(238, 235, 232, 0.9);
  border: 1px solid rgba(161,119,87,0.4);
  border-radius: var(--radius-ctl);
  padding: 0.45rem 0.8rem;
  transition: all 0.15s ease;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 2px 4px rgba(71, 45, 16, 0.38);
}
body.theme-hawaii #backToCatalogBtn{
  color: #003C5A;
  background: rgba(239, 255, 255, 0.94);
  border-color: rgba(83,200,253,0.6);
  box-shadow: 0 2px 4px rgba(0, 60, 90, 0.28);
}
#backToCatalogBtn:hover{
  background: #FFEBD4;
  border-color: #C99461;
  transform: translateY(-1px);
  box-shadow: none;
}
body.theme-hawaii #backToCatalogBtn:hover{
  background: #E6F8FF;
  border-color: #53C8FD;
}

/* Admin card blocks */
.admin-block{
  border:1px solid var(--line);
  border-radius: var(--radius-card);
  overflow:hidden;
  background: var(--admin-block-bg);
  box-shadow: none;
}
.admin-block h3{
  margin:0;
  padding:.75rem 1rem;
  border-bottom:1px solid var(--line);
  background: var(--admin-block-header-bg);
  font-size: .95rem;
  text-transform: uppercase;
  letter-spacing:.06em;
  color:#3A2A1C;
}
body.theme-hawaii .admin-block h3{
  color:#003C5A;
}
.admin-block form{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  padding:.75rem 1rem;
  border-bottom:1px solid var(--line-softer);
}
.admin-block form input,
.admin-block form select,
.admin-block form button{
  padding:.55rem .6rem;
  border:1px solid var(--line);
  border-radius: var(--radius-ctl);
  background:#FFFFFF;
  color: var(--ink-strong);
}
.admin-block table{
  width:100%;
  border-collapse: collapse;
}
.admin-block td{
  padding:.6rem .75rem;
  border-top:1px solid var(--line-softer);
}
.admin-block tr:hover{
  background:#FFF2E4;
}
body.theme-hawaii .admin-block tr:hover{
  background:#E9FAFF;
}

/* =========================================================
   BADGES + ROLES
   ========================================================= */

.badge{
  display:inline-block;
  font-size:.7rem;
  line-height:1.2;
  font-weight:600;
  border-radius: var(--radius-pill);
  padding:.25rem .5rem;
  border:1px solid transparent;
  white-space:nowrap;
}

.badge-status-available{
  background:#E0F7E9;
  color:#21623A;
  border-color:#9EDFB5;
}
.badge-status-out{
  background:#FFF3CC;
  color:#7A4B00;
  border-color:#E6C46A;
}
.badge-status-archived{
  background:#ECE7E2;
  color:#3B3229;
  border-color:#D0C4B7;
}

.badge-clearance-1{
  background:#E0F2FF;
  color:#174A72;
  border-color:#B6D9F5;
}
.badge-clearance-2{
  background:#EAE5FF;
  color:#42338A;
  border-color:#CBC2F3;
}
.badge-clearance-3{
  background:#FFE3CF;
  color:#7A3C12;
  border-color:#F2BD8F;
}
.badge-clearance-4{
  background:#FFD9D9;
  color:#7A1717;
  border-color:#F0B5B5;
}

/* Role badge chips */
.role-badge{
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 999px;
  font-size: 0.75rem;
  line-height: 1.1;
  border: 1px solid transparent;
}
.role-admin{
  background:#FFE3CF;
  color:#7A3C12;
  border-color:#F2BD8F;
}
.role-operator{
  background:#E0F2FF;
  color:#174A72;
  border-color:#B6D9F5;
}
.role-user{
  background:#ECE7E2;
  color:#3B3229;
  border-color:#D0C4B7;
}

/* Optional users table */
.users-list-wrap{
  margin-top: 1rem;
}
.users-list-head{
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}
.users-title{
  margin: 0;
  font-size: 1rem;
  font-weight: 700;
  color: var(--ink-strong);
}
.users-table{
  width: 100%;
  border-collapse: collapse;
  background: #FFFFFF;
  border: 0px solid var(--line-soft);
  border-radius: var(--radius-card);
  overflow: hidden;
}
.users-table th,
.users-table td{
  font-size: 0.9rem;
  text-align: left;
  padding: 0.6rem 0.7rem;
  border-bottom: 1px solid var(--line-softer);
}
.users-table thead th{
  background: var(--admin-block-header-bg);
  font-weight: 600;
  color: var(--ink-strong);
}
.users-table tbody tr:last-child td{
  border-bottom: 0;
}
.users-table .empty td{
  text-align: center;
  color: var(--ink-soft);
}

/* =========================================================
   AUTH VISIBILITY
   ========================================================= */

body.unauth .app-header-right,
body.unauth .table-scroll-region,
body.unauth .table-footer{
  display:none !important;
}
body.unauth #loginSection{
  display:grid;
}

/* Role-based visibility */
[data-requires-role="admin"][hidden]{
  display:none !important;
}

/* =========================================================
   SWIRLING BORDER UTILITY
   ========================================================= */

.btn-swirly{
  position: relative;
  z-index: 0;
  overflow: hidden;
}

/* Outer gradient ring */
.btn-swirly::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: inherit;
  background: var(--swirl-gradient);
  z-index:-2;
  opacity:0;
  transform: rotate(0deg);
  transition: opacity .2s ease;
}

/* Inner fill to preserve your button background */
.btn-swirly::after{
  content:"";
  position:absolute;
  inset:1px;
  border-radius: inherit;
  background: inherit;
  z-index:-1;
}

/* On hover: show and spin the border */
.btn-swirly:hover::before{
  opacity:1;
  animation: btn-border-swish 1.9s linear infinite;
}

@keyframes btn-border-swish{
  0%   { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


/* ===== Export modal shell (glass, Desert Glass style) ===== */
.export-modal::backdrop {
  background: radial-gradient(
    circle at 10% 0%,
    rgba(0,0,0,0.6),
    rgba(0,0,0,0.9)
  );
}

.export-modal .modal-shell {
  max-width: 540px;
  margin: auto;
  padding: 1.5rem 1.75rem 1.4rem;
  border-radius: var(--radius-card);
  border: 1px solid rgba(255,255,255,0.35);
  background: linear-gradient(
    135deg,
    rgba(255,255,255,0.96),
    rgba(255,255,255,0.88)
  );
  box-shadow:
    0 24px 50px rgba(20,16,12,0.45),
    0 0 0 1px rgba(255,255,255,0.3) inset;
  backdrop-filter: blur(26px) saturate(130%);
  -webkit-backdrop-filter: blur(26px) saturate(130%);
}

/* Header */
.export-modal .modal-header {
  margin-bottom: 0.9rem;
}

.export-modal .modal-title {
  margin: 0 0 0.25rem;
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: 0.01em;
  color: var(--ink-strong);
}

/* Body */
.export-modal .modal-body {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 1.25rem;
}

.export-modal .form-label {
  font-size: 0.78rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.11em;
  color: var(--ink-soft);
}

.export-modal .hint-text.subtle {
  font-size: 0.78rem;
  opacity: 0.9;
}

/* Radio group */
.export-modal .radio-field {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  padding: 0.55rem 0.7rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(0,0,0,0.06);
  background: rgba(255,255,255,0.65);
  margin-top: 0.4rem;
  cursor: pointer;
  transition:
    border-color 140ms ease,
    box-shadow 140ms ease,
    background 140ms ease;
}

.export-modal .radio-field:hover {
  border-color: rgba(0,0,0,0.13);
  box-shadow: 0 6px 14px rgba(0,0,0,0.07);
  background: rgba(255,255,255,0.8);
}

.export-modal .radio-field input[type="radio"] {
  margin-top: 0.15rem;
}

.export-modal .radio-copy {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.export-modal .radio-title {
  font-size: 0.87rem;
  font-weight: 500;
  color: var(--ink-strong);
}

.export-modal .modal-subtitle {
  margin: 0;
  font-size: 0.85rem;
  line-height: 1.4;
  color: var(--ink-soft);
}

.export-modal .hint-text {
  margin-top: 0.25rem;
  font-size: 0.8rem;
  color: var(--ink-soft);
}

.export-modal .radio-sub {
  font-size: 0.78rem;
  color: var(--ink-soft);
}

/* Checkbox */
.export-modal .checkbox-field {
  display: flex;
  align-items: center;
  gap: 0.45rem;
  margin-top: 0.4rem;
  font-size: 0.85rem;
  color: var(--ink-strong);
}

/* Footer buttons */
.export-modal .modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
}

/* Footer buttons – refine sizing + hierarchy inside export modal */
.export-modal .modal-footer .btn {
  min-width: 108px;
  padding: 0.48rem 1.05rem;
  border-radius: 999px;
  font-size: 0.86rem;
  font-weight: 500;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

/* Primary: stronger CTA, glassy depth, still theme-aware */
.export-modal .modal-footer .btn-primary {
  background: var(--primary-btn-bg);
  color: var(--primary-btn-ink);
  border-color: var(--primary-btn-border);
  box-shadow:
    0 12px 24px rgba(0, 0, 0, 0.26),
    0 0 0 1px rgba(255, 255, 255, 0.25) inset;
}

.export-modal .modal-footer .btn-primary:hover {
  background: var(--primary-btn-bg-hover);
  filter: brightness(1.05);
  transform: translateY(-1px);
}

.export-modal .modal-footer .btn-primary:active {
  transform: translateY(0);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.24);
}

.export-modal .modal-footer .btn-secondary {
  background: rgba(255, 255, 255, 0.88);
  color: var(--ink-soft);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.10);
}

.export-modal .modal-footer .btn-secondary:hover {
  background: rgba(255, 255, 255, 1);
  color: var(--ink-strong);
  transform: translateY(-1px);
}

.export-modal .modal-footer .btn-secondary:active {
  transform: translateY(0);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.14);
}

.export-modal .modal-footer .btn,
.export-modal .modal-footer .btn-primary,
.export-modal .modal-footer .btn-secondary {
  border-radius: var(--radius-ctl) !important;
}
